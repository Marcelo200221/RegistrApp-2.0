"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6663],{5961:(ee,R,m)=>{m.d(R,{GW:()=>S,dk:()=>b,oK:()=>d});var d=function(p){return p.Prompt="PROMPT",p.Camera="CAMERA",p.Photos="PHOTOS",p}(d||{}),S=function(p){return p.Rear="REAR",p.Front="FRONT",p}(S||{}),b=function(p){return p.Uri="uri",p.Base64="base64",p.DataUrl="dataUrl",p}(b||{})},2726:(ee,R,m)=>{m.d(R,{Uw:()=>D,fo:()=>B,xz:()=>W});var d=m(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var L=function(n){return n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE",n}(L||{});class W extends Error{constructor(e,r,i){super(e),this.message=e,this.code=r,this.data=i}}const V=n=>{var e,r,i,l,o;const g=n.CapacitorCustomPlatform||null,s=n.Capacitor||{},y=s.Plugins=s.Plugins||{},h=n.CapacitorPlatforms,_=(null===(e=h?.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==g?g.name:(n=>{var e,r;return n?.androidBridge?"android":null!==(r=null===(e=n?.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==r&&r.bridge?"ios":"web"})(n)),ce=(null===(r=h?.currentPlatform)||void 0===r?void 0:r.isNativePlatform)||(()=>"web"!==_()),de=(null===(i=h?.currentPlatform)||void 0===i?void 0:i.isPluginAvailable)||(v=>{const P=N.get(v);return!(!P?.platforms.has(_())&&!oe(v))}),oe=(null===(l=h?.currentPlatform)||void 0===l?void 0:l.getPluginHeader)||(v=>{var P;return null===(P=s.PluginHeaders)||void 0===P?void 0:P.find(M=>M.name===v)}),N=new Map,pe=(null===(o=h?.currentPlatform)||void 0===o?void 0:o.registerPlugin)||((v,P={})=>{const M=N.get(v);if(M)return console.warn(`Capacitor plugin "${v}" already registered. Cannot register plugins twice.`),M.proxy;const x=_(),G=oe(v);let A;const ve=function(){var w=(0,d.Z)(function*(){return!A&&x in P?A=A="function"==typeof P[x]?yield P[x]():P[x]:null!==g&&!A&&"web"in P&&(A=A="function"==typeof P.web?yield P.web():P.web),A});return function(){return w.apply(this,arguments)}}(),Y=w=>{let C;const E=(...T)=>{const k=ve().then(Z=>{const I=((w,C)=>{var E,T;if(!G){if(w)return null===(T=w[C])||void 0===T?void 0:T.bind(w);throw new W(`"${v}" plugin is not implemented on ${x}`,L.Unimplemented)}{const k=G?.methods.find(Z=>C===Z.name);if(k)return"promise"===k.rtype?Z=>s.nativePromise(v,C.toString(),Z):(Z,I)=>s.nativeCallback(v,C.toString(),Z,I);if(w)return null===(E=w[C])||void 0===E?void 0:E.bind(w)}})(Z,w);if(I){const q=I(...T);return C=q?.remove,q}throw new W(`"${v}.${w}()" is not implemented on ${x}`,L.Unimplemented)});return"addListener"===w&&(k.remove=(0,d.Z)(function*(){return C()})),k};return E.toString=()=>`${w.toString()}() { [capacitor code] }`,Object.defineProperty(E,"name",{value:w,writable:!1,configurable:!1}),E},ie=Y("addListener"),ae=Y("removeListener"),be=(w,C)=>{const E=ie({eventName:w},C),T=function(){var Z=(0,d.Z)(function*(){const I=yield E;ae({eventName:w,callbackId:I},C)});return function(){return Z.apply(this,arguments)}}(),k=new Promise(Z=>E.then(()=>Z({remove:T})));return k.remove=(0,d.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield T()}),k},X=new Proxy({},{get(w,C){switch(C){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return G?be:ie;case"removeListener":return ae;default:return Y(C)}}});return y[v]=X,N.set(v,{name:v,proxy:X,platforms:new Set([...Object.keys(P),...G?[x]:[]])}),X});return s.convertFileSrc||(s.convertFileSrc=v=>v),s.getPlatform=_,s.handleError=v=>n.console.error(v),s.isNativePlatform=ce,s.isPluginAvailable=de,s.pluginMethodNoop=(v,P,M)=>Promise.reject(`${M} does not have an implementation of "${P}".`),s.registerPlugin=pe,s.Exception=W,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s.platform=s.getPlatform(),s.isNative=s.isNativePlatform(),s},$=(n=>n.Capacitor=V(n))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),B=$.registerPlugin;class D{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){var i=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o);const g=function(){var y=(0,d.Z)(function*(){return i.removeListener(e,r)});return function(){return y.apply(this,arguments)}}(),s=Promise.resolve({remove:g});return Object.defineProperty(s,"remove",{value:(y=(0,d.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield g()}),function(){return y.apply(this,arguments)})}),s;var y}removeAllListeners(){var e=this;return(0,d.Z)(function*(){e.listeners={};for(const r in e.windowListeners)e.removeWindowListener(e.windowListeners[r]);e.windowListeners={}})()}notifyListeners(e,r){const i=this.listeners[e];i&&i.forEach(l=>l(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:i=>{this.notifyListeners(r,i)}}}unimplemented(e="not implemented"){return new $.Exception(e,L.Unimplemented)}unavailable(e="not available"){return new $.Exception(e,L.Unavailable)}removeListener(e,r){var i=this;return(0,d.Z)(function*(){const l=i.listeners[e];if(!l)return;const o=l.indexOf(r);i.listeners[e].splice(o,1),i.listeners[e].length||i.removeWindowListener(i.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const u=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),K=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class a extends D{getCookies(){return(0,d.Z)(function*(){const e=document.cookie,r={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[l,o]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=K(l).trim(),o=K(o).trim(),r[l]=o}),r})()}setCookie(e){return(0,d.Z)(function*(){try{const r=u(e.key),i=u(e.value),l=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),g=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${i||""}${l}; path=${o}; ${g};`}catch(r){return Promise.reject(r)}})()}deleteCookie(e){return(0,d.Z)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}})()}clearCookies(){return(0,d.Z)(function*(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,d.Z)(function*(){try{yield e.clearCookies()}catch(r){return Promise.reject(r)}})()}}B("CapacitorCookies",{web:()=>new a});const f=function(){var n=(0,d.Z)(function*(e){return new Promise((r,i)=>{const l=new FileReader;l.onload=()=>{const o=l.result;r(o.indexOf(",")>=0?o.split(",")[1]:o)},l.onerror=o=>i(o),l.readAsDataURL(e)})});return function(r){return n.apply(this,arguments)}}();class le extends D{request(e){return(0,d.Z)(function*(){const r=((n,e={})=>{const r=Object.assign({method:n.method||"GET",headers:n.headers},e),l=((n={})=>{const e=Object.keys(n);return Object.keys(n).map(l=>l.toLocaleLowerCase()).reduce((l,o,g)=>(l[o]=n[e[g]],l),{})})(n.headers)["content-type"]||"";if("string"==typeof n.data)r.body=n.data;else if(l.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[g,s]of Object.entries(n.data||{}))o.set(g,s);r.body=o.toString()}else if(l.includes("multipart/form-data")){const o=new FormData;if(n.data instanceof FormData)n.data.forEach((s,y)=>{o.append(y,s)});else for(const s of Object.keys(n.data))o.append(s,n.data[s]);r.body=o;const g=new Headers(r.headers);g.delete("content-type"),r.headers=g}else(l.includes("application/json")||"object"==typeof n.data)&&(r.body=JSON.stringify(n.data));return r})(e,e.webFetchExtra),i=((n,e=!0)=>n?Object.entries(n).reduce((i,l)=>{const[o,g]=l;let s,y;return Array.isArray(g)?(y="",g.forEach(h=>{s=e?encodeURIComponent(h):h,y+=`${o}=${s}&`}),y.slice(0,-1)):(s=e?encodeURIComponent(g):g,y=`${o}=${s}`),`${i}&${y}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),l=i?`${e.url}?${i}`:e.url,o=yield fetch(l,r),g=o.headers.get("content-type")||"";let y,h,{responseType:s="text"}=o.ok?e:{};switch(g.includes("application/json")&&(s="json"),s){case"arraybuffer":case"blob":h=yield o.blob(),y=yield f(h);break;case"json":y=yield o.json();break;default:y=yield o.text()}const F={};return o.headers.forEach((_,Q)=>{F[Q]=_}),{data:y,headers:F,status:o.status,url:o.url}})()}get(e){var r=this;return(0,d.Z)(function*(){return r.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var r=this;return(0,d.Z)(function*(){return r.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var r=this;return(0,d.Z)(function*(){return r.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var r=this;return(0,d.Z)(function*(){return r.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var r=this;return(0,d.Z)(function*(){return r.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}B("CapacitorHttp",{web:()=>new le})},6663:(ee,R,m)=>{m.r(R),m.d(R,{ClasePageModule:()=>ne});var d=m(6814),S=m(95),b=m(9004),p=m(3044),z=m(5861),t=m(6689),H=m(2726),L=m(5961);const W=(0,H.fo)("Camera",{web:()=>m.e(6468).then(m.bind(m,6468)).then(u=>new u.CameraWeb)});var J=m(189),V=m(6406);const te=(0,H.fo)("Geolocation",{web:()=>m.e(579).then(m.bind(m,579)).then(u=>new u.GeolocationWeb)});let $=(()=>{class u{constructor(){this.coordenadas={coords:{latitude:0,longitude:0,altitude:null,accuracy:0,altitudeAccuracy:null,heading:null,speed:null},timestamp:0}}ngOnInit(){this.printCurrentPosition()}printCurrentPosition(){var a=this;return(0,z.Z)(function*(){const c=yield te.getCurrentPosition();a.coordenadas=c})()}static#e=this.\u0275fac=function(c){return new(c||u)};static#t=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-geolocalizacion"]],decls:3,vars:2,template:function(c,f){1&c&&(t.TgZ(0,"ion-item")(1,"ion-label"),t._uU(2),t.qZA()()),2&c&&(t.xp6(2),t.AsE("Localizaci\xf3n: Latitud: ",f.coordenadas.coords.latitude,", Longitud: ",f.coordenadas.coords.longitude," "))},dependencies:[b.Ie,b.Q$]})}return u})();function B(u,K){if(1&u&&t._UZ(0,"ion-img",7),2&u){const a=t.oxw();t.Q6J("src",a.cameraImage)}}const re=[{path:"",component:(()=>{class u{constructor(a,c,f,U){this.storage=a,this.route=c,this.animationCtrl=f,this.navCtrl=U,this.loggedInUser=null,this.registerUser=null,this.formatedtime="",this.nombre="",this.apellido="",this.rut="",this.Profe="",this.hora="",this.sala="",this.dia="",this.isVisible=!0,this.isVisible2=!0;const O=Date.now(),j=new Date(O);this.formatedtime=j.toLocaleDateString(),this.isVisible=!1}ngOnInit(){var a=this;return(0,z.Z)(function*(){yield a.storage.getvalue("Nuevo usuario"),yield a.storage.getvalue("Sesion de usuario");const c=yield a.storage.getvalue("Sesion de usuario"),f=yield a.storage.getvalue("Nuevo usuario");c&&c.Usuario==f.Nombre_Usuario&&c.Contrase\u00f1a==f.Clave?a.loggedInUser=c:a.navCtrl.navigateForward("/daccess");let U=yield a.storage.getvalue("Datos Qr"),O=yield a.storage.getvalue("Nuevo usuario");if(U)try{a.registroProfeParseado=U,a.Profe=a.registroProfeParseado[0],a.hora=a.registroProfeParseado[1],a.sala=a.registroProfeParseado[2],a.dia=a.registroProfeParseado[3]}catch(j){console.error("Error al analizar el valor del LocalStorage:",j)}if(O)try{a.nombre=O.nombre,a.apellido=O.apellido,a.rut=O.Rut}catch(j){console.error("Error al analizar el valor del LocalStorage:",j)}})()}takePicture(){var a=this;return(0,z.Z)(function*(){const c=yield W.getPhoto({quality:100,allowEditing:!0,resultType:L.dk.Uri,source:L.oK.Camera});a.cameraImage=c.webPath,c.dataUrl=a.cameraImage,a.cameraImage&&(a.isVisible=!0,a.isVisible2=!1)})()}ngAfterViewInit(){const a=this.animationCtrl.create().addElement(this.cardElements.first.nativeElement).keyframes([{offset:0,transform:"scale(1)",opacity:"1"},{offset:.5,transform:"scale(1.5)",opacity:"0.3"},{offset:1,transform:"scale(1)",opacity:"1"}]),c=this.animationCtrl.create().addElement(this.cardElements.last.nativeElement).keyframes([{offset:0,transform:"scale(1)",opacity:"1"},{offset:.5,transform:"scale(1.5)",opacity:"0.3"},{offset:1,transform:"scale(1)",opacity:"1"}]);this.animation=this.animationCtrl.create().duration(2e3).iterations(1).addAnimation([a,c])}play(){this.animation.play()}ionViewDidEnter(){this.play()}volver(){this.navCtrl.navigateBack("/home")}static#e=this.\u0275fac=function(c){return new(c||u)(t.Y36(J.V),t.Y36(p.gz),t.Y36(V.vB),t.Y36(V.SH))};static#t=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-clase"]],viewQuery:function(c,f){if(1&c&&t.Gf(b.PM,5,t.SBq),2&c){let U;t.iGM(U=t.CRH())&&(f.cardElements=U)}},decls:46,vars:15,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[3,"click"],[3,"src",4,"ngIf"],["expand","full",3,"click"],[3,"src"]],template:function(c,f){1&c&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Clase Registrada"),t.qZA()()(),t.TgZ(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),t._uU(8,"Su clase est\xe1 registrada"),t.qZA()()(),t.TgZ(9,"ion-item")(10,"ion-button",4),t.NdJ("click",function(){return f.volver()}),t._uU(11,"Volver"),t.qZA()(),t.TgZ(12,"ion-item")(13,"ion-card")(14,"ion-card-content"),t.YNc(15,B,1,1,"ion-img",5),t.TgZ(16,"ion-button",6),t.NdJ("click",function(){return f.takePicture()}),t._uU(17,"Abrir c\xe1mara"),t.qZA()()()(),t.TgZ(18,"div")(19,"ion-item")(20,"ion-card")(21,"ion-card-content")(22,"ion-title"),t._uU(23,"Datos Profesor"),t.qZA(),t.TgZ(24,"ion-label"),t._uU(25),t.qZA(),t.TgZ(26,"ion-label"),t._uU(27),t.qZA(),t.TgZ(28,"ion-label"),t._uU(29),t.qZA(),t.TgZ(30,"ion-label"),t._uU(31),t.qZA()()()(),t.TgZ(32,"ion-item")(33,"ion-card")(34,"ion-card-content")(35,"ion-title"),t._uU(36,"Datos Alumnos "),t.qZA(),t.TgZ(37,"ion-label"),t._uU(38),t.qZA(),t.TgZ(39,"ion-label"),t._uU(40),t.qZA(),t.TgZ(41,"ion-label"),t._uU(42),t.qZA(),t.TgZ(43,"strong"),t._uU(44),t.qZA(),t._UZ(45,"app-geolocalizacion"),t.qZA()()()()()),2&c&&(t.Q6J("translucent",!0),t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(11),t.Q6J("ngIf",f.cameraImage),t.xp6(1),t.Udp("display",f.isVisible2?"block":"none"),t.xp6(2),t.Udp("display",f.isVisible?"block":"none"),t.xp6(7),t.Oqu(f.Profe),t.xp6(2),t.Oqu(f.hora),t.xp6(2),t.Oqu(f.sala),t.xp6(2),t.Oqu(f.dia),t.xp6(7),t.hij("Nombre: ",f.nombre,""),t.xp6(2),t.hij("Apellido: ",f.apellido,""),t.xp6(2),t.hij("Rut: ",f.rut,""),t.xp6(2),t.hij("Timestamp: ",f.formatedtime,""))},dependencies:[d.O5,b.YG,b.PM,b.FN,b.W2,b.Gu,b.Xz,b.Ie,b.Q$,b.wd,b.sr,$]})}return u})()}];let D=(()=>{class u{static#e=this.\u0275fac=function(c){return new(c||u)};static#t=this.\u0275mod=t.oAB({type:u});static#r=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(re),p.Bz]})}return u})(),ne=(()=>{class u{static#e=this.\u0275fac=function(c){return new(c||u)};static#t=this.\u0275mod=t.oAB({type:u});static#r=this.\u0275inj=t.cJS({imports:[d.ez,S.u5,b.Pc,D]})}return u})()}}]);