"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4141],{4141:(b,c,r)=>{r.r(c),r.d(c,{CambioClavePageModule:()=>f});var C=r(6814),l=r(95),i=r(3582),d=r(6958),g=r(5861),e=r(6689),m=r(6406);const v=["nuevaContrase\xf1a"],p=[{path:"",component:(()=>{class n{constructor(a,o,t){this.alertController=a,this.cdr=o,this.navCtrl=t,this.Usuario="",this.ClaveNueva="",this.cambioSi=!1,this.isVisible=!0}ngOnInit(){let a=localStorage.getItem("Nuevo usuario");if(a)try{this.registroRecupParseado=JSON.parse(a),Array.isArray(this.registroRecupParseado)?console.log("Es un arreglo:",this.registroRecupParseado):console.log("No es un arreglo JSON v\xe1lido:",this.registroRecupParseado)}catch(o){console.error("Error al analizar el valor del LocalStorage:",o)}}ionViewDidEnter(){this.isVisible=!1,this.nuevaContrase\u00f1a.disabled=!0}usuarioReconocido(){var a=this;return(0,g.Z)(function*(){document.getElementsByClassName("nuevaContra"),a.Usuario==a.registroRecupParseado[4]&&(yield(yield a.alertController.create({header:"Hola "+a.Usuario,message:"Su contrase\xf1a anterior es: "+a.registroRecupParseado[5]+" , deseas cambiarla?",buttons:[{text:"S\xed",handler:()=>{a.nuevaContrase\u00f1a.disabled=!1,a.isVisible=!0,console.log("Bot\xf3n 'S\xed' presionado")}},{text:"No",role:"cancel",handler:()=>{a.navCtrl.navigateForward("/login"),console.log("Bot\xf3n 'No' presionado o cuadro de di\xe1logo cerrado")}}]})).present())})()}cambiarContra(){var a=this;return(0,g.Z)(function*(){a.registroRecupParseado[5]!=a.ClaveNueva?(a.registroRecupParseado[5]=a.ClaveNueva,localStorage.setItem("Nuevo usuario",JSON.stringify(a.registroRecupParseado)),yield(yield a.alertController.create({header:"Cambio exitoso",message:"Tu contrase\xf1a se ha cambiado exitosamente",buttons:[{text:"OK",handler:()=>{const t=new Event("datosActualizados");window.dispatchEvent(t),a.navCtrl.navigateForward("/login")}}]})).present()):yield(yield a.alertController.create({header:"Error",message:"No se pueden utilizar contrase\xf1as usadas anteriormente",buttons:["OK"]})).present()})()}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(m.Br),e.Y36(e.sBO),e.Y36(m.SH))};static#a=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-cambio-clave"]],viewQuery:function(o,t){if(1&o&&e.Gf(v,5),2&o){let s;e.iGM(s=e.CRH())&&(t.nuevaContrase\u00f1a=s.first)}},decls:29,vars:8,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["maxlength","6",3,"ngModel","ngModelChange"],[3,"click"],[1,"nuevaContra"],["type","password","maxlength","4",3,"ngModel","ngModelChange"],["nuevaContrase\xf1a",""]],template:function(o,t){1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Recuperar contrase\xf1a"),e.qZA()()(),e.TgZ(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),e._uU(8,"cambioClave"),e.qZA()()(),e.TgZ(9,"ion-item")(10,"ion-title"),e._uU(11," Ingresa tu usuario "),e.qZA()(),e.TgZ(12,"ion-item")(13,"ion-card")(14,"ion-card-content")(15,"ion-input",4),e.NdJ("ngModelChange",function(u){return t.Usuario=u}),e._uU(16,"Usuario"),e.qZA()()()(),e.TgZ(17,"ion-item")(18,"ion-button",5),e.NdJ("click",function(){return t.usuarioReconocido()}),e._uU(19," Confirmar "),e.qZA()(),e.TgZ(20,"ion-item",6)(21,"ion-card")(22,"ion-card-content")(23,"ion-input",7,8),e.NdJ("ngModelChange",function(u){return t.ClaveNueva=u}),e._uU(25,"Nueva contrase\xf1a"),e.qZA()()()(),e.TgZ(26,"ion-item")(27,"ion-button",5),e.NdJ("click",function(){return t.cambiarContra()}),e._uU(28," Cambiar "),e.qZA()()()),2&o&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(11),e.Q6J("ngModel",t.Usuario),e.xp6(5),e.Udp("display",t.isVisible?"block":"none"),e.xp6(3),e.Q6J("ngModel",t.ClaveNueva),e.xp6(3),e.Udp("display",t.isVisible?"block":"none"))},dependencies:[l.JJ,l.nD,l.On,i.YG,i.PM,i.FN,i.W2,i.Gu,i.pK,i.Ie,i.wd,i.sr,i.j9]})}return n})()}];let h=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#a=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(p),d.Bz]})}return n})(),f=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#a=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[C.ez,l.u5,i.Pc,h]})}return n})()}}]);